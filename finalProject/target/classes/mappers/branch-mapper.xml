<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.spring.project.branchMapper">

	<insert id="insert">
		insert into ${PJ_BRANCH} 
		(${brcId}, ${brcArea}, ${brcName}, ${brcTheaterNumbers}, ${brcTheaterSeats}, ${brcInfo})
		values (#{brcId}, #{brcArea}, #{brcName}, #{brcTheaterNumbers}, #{brcTheaterSeats}, #{brcInfo})
	</insert>

	<!-- 전체리스트 보여주기  -->
	<select id="select_list_all" resultType="BranchVO">
		select * from
		${PJ_BRANCH}
		order by ${brcId} DESC
	</select>
	
	<!-- 브랜치 아이디로 단일 검색 -->
	<select id="select_one_by_brc_id" resultType="BranchVO">
		select * from
		${PJ_BRANCH}
		where ${brcId} = #{brcId}
	</select>

	<!-- 지역번호로 검색 -->
	<select id="select_list_by_brc_area" resultType="BranchVO">		
		select * from
		${PJ_BRANCH}
		where ${brcArea} = #{brcArea}
	</select>
	
	<!-- 지역명으로 검색 -->
	<select id="select_list_by_brc_name" resultType="BranchVO">		
		select * from
		${PJ_BRANCH}
		where ${brcName} like '%' || #{brcArea} || '%'
	</select>
	
	<update id="update">
		update ${PJ_BRANCH}
		set ${brcArea} = #{brcArea}, ${brcName} = #{brcName}, ${brcTheaterNumbers} = #{brcTheaterNumbers}, 
		${brcTheaterSeats} = #{brcTheaterSeats}, ${brcInfo} = #{brcInfo}
		where ${brcId} = #{brcId}
	</update>

	<delete id="delete"> 
		delete from ${PJ_BRANCH}
		where ${brcId} = #{brcId}
	</delete>
	
</mapper>